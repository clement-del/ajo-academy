[home](README.md)

<p align="center">
<img width="1280" alt="image" src="https://github.com/user-attachments/assets/1bf8639a-755b-4aa3-88e0-5126a064b41b" />
</p>

Personalize the Conversion Path and Abandoned Cart Follow-Up
============================================================================

We will now personalize the conversion path using AEP's customer experience engine, Journey Optimizer. 

The objective of our customer journey is twofold:

- Retarget Luma website users who have abandoned the purchase process.
- Send a confirmation message to users who have confirmed their orders.

---

## The Journey Optimizer User Interface

Click on the 9 dots in the top right corner of the interface and on the _Journey Optimizer_ link in the drop-down menu.

<img width="604" alt="image" src="https://github.com/user-attachments/assets/b9155589-15f1-4c4f-aed8-ff08f203c26b" />


You are now in AJO. You are going to build your own Purchase Journey. In the _Browse_ tab, click _Create Journey_

<img width="630" alt="image" src="https://github.com/user-attachments/assets/34ce1ee8-b83a-48cc-97ca-c8648dea12e8" />

- Name your journey _Purchase Journey_, please prefix it with the email address you used when creating your account on Luma website, like: _delaland+p1@adobetest.com - Purchase Journey_
- Click Save


---

## The Journey Canvas
The customer journey canvas is the central point for creating a real-time customer experience. The interface allows you to drag and drop three types of activities:
- Events: These are user actions (or actions generated by a third-party system) that arrive in real time in AEP, that you are willing to listen and react.
- Orchestration: Useful to apply filtering condition on the incoming population and to delay steps in a journey. The Read Audience activity lets you target an audience previously built, such as the _Luma - Blue Luma+ Members_ audience your profile automatically qualified previously. 
- Actions: These are the different activities you can leverage to react and send communication to your customer. AJO comes with native activities to send personalized communications through inbound channels (website, in-app, kiosk, connected tvs) as well as outbound channels (email, sms, push notif). Of course you can build your own action if you have specific needs, like interacting with a proprietary channel (like exotic channels, ATM, call center, CRM systems etc)

The journey you are going to build is composed of multiplate activities. we're going to 
- Listen to Checkout Event from the Luma website
- Apply filter on the inbound population
- Listen to Purchase Event from Luma website
- Get Information from Luma Loyalty System to retrive promo code and offers.
- Send an order confirmation email

![image](https://github.com/user-attachments/assets/5fde1f17-8788-4d61-89dd-6345cb9eaa6d)


Pretty straightforward isn't it ? Now let's spice the journey a bit with more intelligence. We'd also like to retarget profiles who started the checkout process, but did not complete. Here what we're going to do: 
- Add a transition in case the Purchase Event did not arrive after a certain time
- Verify the customer preferred channel of communication
- Send a Push Notification through the mobile app to invite profile to resume his purchase or
- Send an Email with the content of the pending cart


![image](https://github.com/user-attachments/assets/35ae7e6f-f3e9-421e-8896-36f1ccd7bf07)


---

## Building the Journey

The first event we are going to use to start the journey is triggered by the checkout page from the website. The event has been configured by the martech team and basically carries the information from the website datalayer. You'll find in this event a json object representing the cart content as well as the profile details. 
- Select the  _LumaCheckoutEvent_Email_ from the _EVENTS_ menu and drag and drop it to the canva

- Select the _Condition_ activity from the _ORCHESTRATION_ menu and drag and drop it to the canva 
  - Label the activity _Filter Profile_ This is required in order to let in your journey only your profile and leave your classmates profiles to their respective journeys. This activity would not be necessary outside the context of the lab.
  - Select the  attribute __aeppartner1.identification.core.email_ from the LumaChekcoutEvent_Email
  - Make sure the email address you put in corresponds to the one set in the login form of the Luma website when you registered in the previous exercice.
    ![image](https://github.com/user-attachments/assets/45dcf93a-eafe-4e37-a66c-11d535b70274)
- Select the  _LumaPurchaseEvent_Email_ from the _EVENTS_ menu and drag and drop it to the canva
- Select the LoyaltyService from the _ACTIONS_ menu and drag and drop it to the canva
  - 
- Select the _Email_ activity from the _ACTIONS_ menu and drag and drop it to the canva 




---

## The Abandoned Cart Email

To re-engage our customers who haven't completed the purchasing process, we'll use an action activity. This will allow us to instantly communicate with Adobe Campaign's transactional component to send a message inviting the customer to return to the website.

- Select the _CampaignCartAbandonment_ activity from the Activities menu
- Drag and drop it into the bottom path of the customer journey so that it is linked to the previous event
- In the _Email_ field, click the pencil icon and select _LumaCheckoutEvent -> demosystem4 -> identification -> core -> Email_ and click _OK_
- In the _Name_ field, click the pencil icon and type _first_ to filter the attributes and select the first attribute _firstName_ and click _OK_
- Link the _LumaPurchaseEvent1_ event to the activity transition _CampaignCartAbandonment_

![cartAbandonment2](https://user-images.githubusercontent.com/40355195/223142393-a7c526f5-41dd-4c1d-80b5-8b3988bd67e2.gif)

---

## The Order Confirmation Email

To re-engage our customers who haven't completed the purchasing process, we'll use an action activity. This will allow us to instantly communicate with Adobe Campaign's transactional component to send a message inviting the customer to return to the website.

- Select the _CampaignCartAbandonment_ activity from the Activities menu
- Drag and drop it into the bottom path of the customer journey so that it is linked to the previous event
- In the _Email_ field, click the pencil icon and select _LumaCheckoutEvent -> demosystem4 -> identification -> core -> Email_ and click _OK_
- In the _Name_ field, click the pencil icon and type _first_ to filter the attributes and select the first attribute _firstName_ and click _OK_
- Link the _LumaPurchaseEvent1_ event to the activity transition _CampaignCartAbandonment_

![cartAbandonment2](https://user-images.githubusercontent.com/40355195/223142393-a7c526f5-41dd-4c1d-80b5-8b3988bd67e2.gif)

---

## Test your journey
Now it's time to test your journey!
- In the canvas, activate _test mode_, return to the website, add an item to your cart, and click the _Shopping Cart_ button in the top right corner of the interface. Click the _Checkout_ button, then _Proceed_.
- Return to Profile Orchestration and view your user's progress through the customer journey. After a given period of inactivity, the user is considered to have abandoned the purchase process, and the email you previously configured is sent with a link to revalidate their cart.
- Go to your email client and click on the link in the new email received. This will take you back to the cart, where you can complete your purchase online.

<div align="center">
<br />
<img src="https://sv-ac-demos.com/shared/delaland/dsn/testConversionBootcamp.gif" />
<br />
<br />
</div>


---

## Journey Reporting

---

## Package your journey and share it


---

Congratulations! You have completed the second chapter of the lab üëç ‚ú® üéâ, go to the [next step](campaign.md) or return to the [home](README.md)
